## Unity3D学习笔记
兴趣使然，很久以前就想做一款自己的游戏，一方面由于时间不允许，而是惧怕学习的难度，但是最近经常玩游戏，耽误了很多时间，在卸载游戏后突然有种看穿游戏的感觉，加之之前与同学一起用java做过一款大富翁游戏，想着自己其实可以用这些游戏时间来自己做些有价值的事——例如开发一款游戏。
目前开发游戏最流行的就是Unity引擎，一方面可以做游戏，另一方面也可以做动画学渲染等技能。我找到很多资源，最终决定在B站上跟着视频来学习更好些，[感谢Up主的分享，也感谢授课老师幽默的讲解](https://www.bilibili.com/video/BV12s411g7gU)，希望我能一直坚持下来，利用疫情暑假的时间掌握这项技能，做出自己的一款游戏！

### Day 1

#### Unity软件基本使用，基本概念，理解Unity开发架构

* 在新建项目时项目名和项目位置最好时全英文，不要出现汉字，否则可能会出现意想不到的错误意外。
* 在edit菜单里preference菜单里language里可以修改菜单栏显示语言。
* 进入项目后可以通过右上角的Layout菜单改为不同的布局界面，在Project上右键也可以更改project显示的布局。
* Project里放游戏的素材，包括音频，模型什么的。
* Assets里放的（资产），包括项目的model什么的。
* model等资源都可以通过将文件拖到到Unity面板里达到添加的作用。
* Hierarchy面板里放游戏对象，在游戏运行的时候能看见的。
* Scene面板能对游戏对象进行设计操作。
* Game面板能看见游戏真实运行起来用户看起来的效果。
* 鼠标右键移动视野旋转，滚轮滚动视野变近或远(缩放场景)，按下鼠标滚轮拖动场景。
* 选中对象后按`F`键可以让选中对象居中。
* 点击右键同时按下W/S/A/D/Q/E键实现场景漫游
* 按住Alt键同时通过鼠标左键围绕物体旋转场景，鼠标右键缩放场景。
* Inspector检视面板，可以查看修改选中对象的组件(功能)信息。Position参数是选中对象相对世界原点的坐标。鼠标移到X.Y,Z上往左拽或者往右拽也可以进行数值微调，输入的数值可以为简单的四则运算式子。Rotation是对象沿轴旋转的角度，注意XYZ轴的方向。Scale为模型显示比例，一般都为1，1，1
* 点击对象中间的白块可以进行等比例的缩放。
* 按住对象然后Ctrl+D可以进行对象的复制。
* 顶点吸附：选中一个对象，按住V不放，选中其中一个顶点，拖拽移动后松开V键，再松开左键。
* 变换切换：Center，Pivot改变对象的中心点位置，Pivot是美工做的时候确定的中心
* 坐标：Globol全局局视角，Local自身视角
* 中间上部三个图标从左到右为连续播放，暂停和逐帧播放
* 视图的两种模式：ISO——正交视角(平面感觉)，Persp——透视观察模式——3D视角(近大远小)
* 场景Scene(游戏对象的集合)，作为文件储存的时候后缀为.unity,为Unity的图标。Ctrl+S保存的就是场景。Ctrl+N就是新创建一个场景。
* 组件：Transform变换组件决定物体的位置角度比例，Mesh Filter网格过滤器，获取网格信息，Mesh Renderer网格渲染，才能看见。
* 对象在创建的时候默认是在世界坐标的原点创建
* 若要将两个或多个对象捆绑在一起作为一个整体，可以让其中一个作为父对象，其他作为子对象，当移动父对象的时候子对象也跟着一起移动，当然也可以创建一个空的对象让其他所有的对象作为此对象的子对象，这样当父对象移动的时候，同样其余也跟着一起移动，父子对象关系的创建可以直接在Hierarchy窗口通过拖动对象A到对象B实现B作为A的父对象。
* 当建立父子对象关系之后，子对象的position就是相对于父对象的position，而父对象的position仍然是相对世界坐标而言的。当使用空对象作为其余的父对象的时候要确定这个空对象的位置在哪里，因为他是看不见的，在作为判定标准的时候要格外小心。
* 在父子对象捆绑完毕之后给所以子对象全选中，点击右边transform的设置图标，执行reset。让对象transform更新一下，让其都变成与父对象的相对位置。
* 一般让对象都成为空对象的子对象，把对象的行为都绑在父物体上，这样当子对象要更换模型的时候这些行为就不用再更改了。
* material其实本质上是shader的实例，在Project面板右键然后create选项选中material可以创建自己的material，在创建material之后点击自己创建的material，在右边Inspector处有Albedo选项，左面的框就是贴图的地方，右面的框是取色的地方，要进行设置，在设置完毕之后可以将自己的material拖动到想要着色的对象名上，也可以点击想要着色的对象，将material拖动到对象的Mech Renderer组件下的Materials地方。不能将material用于给空的对象着色，因为它没有Mech Renderer组件，不具有materials属性。给对象改颜色其实也可以直接点击对象名，在右边的Albedo直接修改。
* 右边material下有个Rendering Mode渲染模式，一般直接创建的立体是默认的Default Material不允许修改Rendering Mode等，此时就可以用自己创建的Material，这样这些对方就可以选择更改了。右边material下有个Rendering Mode渲染模式，其中cut out选项就指不显示透明通道的渲染，其中Transparent选项就是透明渲染，当然光设置为透明渲染还不行，如果要达到自己需要的透明目标还需要在Albedo处设置A的数值(即透明度)，其中Fade选项就是淡入淡出效果，最后也得在Albedo处设置A的数值(即透明度)。
* Camera组件，作为光锥捕获画面给玩家，Audio Listener组件捕获声音给玩家。
* Camera组件里的Clear Flag就是处理场景的空白部分，其中选项SkyBox天空盒用于包装模拟天空材质，使用天空盒，方式一：Camera中添加组件Skybox，方法二：光照窗口Window-Lighting-Environment Lighting-Skybox，方法二可将天空盒作为反射源将天空颜色反射到物体身上看起来更逼真。
* Camera组件里的Culling Mask里面就是想让摄像机能看见的东西。
* Camera组件里的Projection就是显示的模式，Perspective就是显示有近大远小的3D效果，Orthographic是2D效果。
* 在用Unity的时候突然发现太阳和camera不见了，但是光照和设想画面还在，解决办法：点击Scene面板上的Gizmos，就会显示了
* Camera组件里的Clipping Planes就是视野的调整，Viewport Rect就是摄像画面的显示位置，X,Y是目前的画面坐标，W,H为画面的宽和高，这四个的取值范围都是0~1。
* Camera组件里的Depth数值设置的是渲染的次序，后渲染的会覆盖先渲染的，因此要看见先渲染的Depth值应该比后渲染的Camera组件的Depth值大。因此游戏的小地图Camera应该比Main Camera大，因为小地图Camera应该先渲染。
* 选中物体后Ctrl+Shift+F指定移动后的位置可以迅速移动物体到指定位置。可用于摄像机等的快捷移动。
* 对象的Layer部分可以Add Layer，添加自己设计的层(起个名字就行)，然后选择自己设计的Layer，选择Culling Mask，把自己的层前的勾去掉就可以达到在当前camera不显示这个物体的效果。
* 渲染管线：图形数据在GPU上经过运算处理，最后输出到屏幕上的过程。游戏->图形API->|(CPU与GPU分界线)->顶点处理->图元装配->光栅化->像素处理->缓存，绘制调用Draw Call每次引擎准备数据并通知
GPU的过程，通俗讲，每帧调用显卡渲染物体的次数，要尽量减少Draw Call。
* CPU的顶点处理：接收模型顶点数据，坐标系转换。CPU的图元装配：组装面，连接相邻的顶点,绘制为三角面。CPU光栅化：计算三角面上的像素,并为后面着色阶段提供合理的插值参数。CPU像素处理对每个像素区域进行着色。写入到缓存中。CPU缓存：一个存储像素数据的内存块，最重要的缓存是帧缓存与深度缓存。帧缓存:存储每个像素的色彩,即渲染后的图像。帧缓存常常在显存中, 显卡不断读取并输出到屏幕中。深度缓存z-buffer :存储像素的深度信息,即物体到摄像机的距离。光栅化时便计算各像素的深度值,如果新的深度值比现有值更近，则像素颜色被写到帧缓存,并替换深度缓存。
---------------------------------------------------------
